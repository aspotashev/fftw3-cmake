
########### next target ###############

SET(fftw3@PREC_SUFFIX@_threads_STAT_SRCS
   api.c
   conf.c
   threads.c
   threads.h
   dft-vrank-geq1.c
   ct.c
   rdft-vrank-geq1.c
   hc2hc.c
   vrank-geq1-rdft2.c
   f77api.c
   f77funcs.h
)

add_library(fftw3@PREC_SUFFIX@_threads STATIC ${fftw3@PREC_SUFFIX@_threads_STAT_SRCS})


########### next target ###############

SET(fftw3@PREC_SUFFIX@_threads_LIB_SRCS
   dummy.cpp
)

file(WRITE dummy.cpp "//autogenerated file by cmake\n")
add_library(fftw3@PREC_SUFFIX@_threads SHARED ${fftw3@PREC_SUFFIX@_threads_LIB_SRCS})

target_link_libraries(fftw3@PREC_SUFFIX@_threads)

set_target_properties(fftw3@PREC_SUFFIX@_threads PROPERTIES VERSION 4.2.0 SOVERSION 4)
install(TARGETS fftw3@PREC_SUFFIX@_threads DESTINATION lib)


########### install files ###############




#original Makefile.am contents follow:

#AM_CPPFLAGS = -I$(top_srcdir)/kernel -I$(top_srcdir)/dft	\
#-I$(top_srcdir)/rdft -I$(top_srcdir)/api
#AM_CFLAGS = $(STACK_ALIGN_CFLAGS)
#
#if OPENMP
#FFTWOMPLIB = libfftw3@PREC_SUFFIX@_omp.la
#else
#FFTWOMPLIB = 
#endif
#
#if THREADS
#if COMBINED_THREADS
#noinst_LTLIBRARIES = libfftw3@PREC_SUFFIX@_threads.la
#else
#lib_LTLIBRARIES = libfftw3@PREC_SUFFIX@_threads.la $(FFTWOMPLIB)
#endif
#else
#lib_LTLIBRARIES = $(FFTWOMPLIB)
#endif
#
## pkgincludedir = $(includedir)/fftw3@PREC_SUFFIX@
## pkginclude_HEADERS = threads.h
#
#libfftw3@PREC_SUFFIX@_threads_la_SOURCES = api.c conf.c threads.c	\
#threads.h dft-vrank-geq1.c ct.c rdft-vrank-geq1.c hc2hc.c		\
#vrank-geq1-rdft2.c f77api.c f77funcs.h
#libfftw3@PREC_SUFFIX@_threads_la_CFLAGS = $(AM_CFLAGS) $(PTHREAD_CFLAGS)
#libfftw3@PREC_SUFFIX@_threads_la_LDFLAGS = -version-info @SHARED_VERSION_INFO@
#if !COMBINED_THREADS
#libfftw3@PREC_SUFFIX@_threads_la_LIBADD = ../libfftw3@PREC_SUFFIX@.la
#endif
#
#libfftw3@PREC_SUFFIX@_omp_la_SOURCES = api.c conf.c openmp.c	\
#threads.h dft-vrank-geq1.c ct.c rdft-vrank-geq1.c hc2hc.c	\
#vrank-geq1-rdft2.c f77api.c f77funcs.h
#libfftw3@PREC_SUFFIX@_omp_la_CFLAGS = $(AM_CFLAGS) $(OPENMP_CFLAGS)
#libfftw3@PREC_SUFFIX@_omp_la_LDFLAGS = -version-info @SHARED_VERSION_INFO@
#if !COMBINED_THREADS
#libfftw3@PREC_SUFFIX@_omp_la_LIBADD = ../libfftw3@PREC_SUFFIX@.la
#endif
